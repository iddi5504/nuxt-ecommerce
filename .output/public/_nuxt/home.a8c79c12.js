import{a as h,o as d,c as v,w as b,b as f,e as t,t as i,m as w,T as g,p,l as C,F as $,r as k,v as y,h as x,q as I,i as j,s as N}from"./entry.ade69ccc.js";import{p as n}from"./index.62578221.js";import{u as T}from"./composables.60119c2f.js";const M={computed:{toast(){return n().$state.toastMessage}}},O={key:0,class:"w-full z-[100] fixed top-3 left-0 flex justify-center items-center"},S={class:"text-white bg-green-500 max-w-md break-words text-sm font-semibold p-2 rounded-md"};function B(a,c,l,e,_,r){return d(),v(g,{name:"show"},{default:b(()=>[r.toast?(d(),f("div",O,[t("div",S,[t("div",null,i(r.toast),1)])])):w("",!0)]),_:1})}const V=h(M,[["render",B]]);const z={setup(){const a=()=>{n().$patch({showCart:!1})},c=p(()=>n().$state.showCart),l=p(()=>n().$state.cart),e=o=>{n().removeCartItem(o)},_=o=>{n().increase(o)},r=o=>{n().decrease(o)},s=p(()=>{let o=n().$state.cart,u=0;return o.forEach(m=>{u+=parseInt(m.price*m.numberOfItems)}),u});return{closeCart:a,showCart:c,cartItems:l,removeCartItem:e,subTotal:s,increase:_,decrease:r}}},D={class:"max-w-sm flex flex-col z-50 p-3 shadow-md w-full min-h-full max-h-screen fixed right-0 top-0 bg-white"},E={class:"flex justify-between mx-2"},F=t("div",{class:"text-lg text-bold"},"Cart",-1),L={class:"flex flex-col flex-1"},q=["src"],H={class:"flex-1 flex flex-col justify-between"},P={class:"flex flex-1 justify-between items-center"},A={class:"text-lg font-bold"},G={class:"text-sm font-bold"},J={class:"flex flex-1 justify-between items-center"},K={class:"flex justify-around items-center gap-1"},Q=["onClick"],R={class:"text-lg mx-2"},U=["onClick"],W=["onClick"],X={class:"flex flex-col w-full item-center p-3 m-1 gap-2 rounded-md shadow-sm sticky bottom-0 left-0 bg-slate-100"},Y={class:"flex flex-1 justify-between items-center"},Z=t("div",{class:"text-lg font-bold"},"Sub Total",-1),tt={class:"text-sm font-bold"},et=t("button",{class:"text-center p-2 px-3 w-full self-center max-w-[220px] rounded-lg hover:bg-purple-700 bg-purple-400 border-2 text-sm text-slate-700"}," Make Payment",-1);function st(a,c,l,e,_,r){return d(),v(g,{name:"showCart"},{default:b(()=>[C(t("div",D,[t("div",E,[F,t("i",{onClick:c[0]||(c[0]=(...s)=>e.closeCart&&e.closeCart(...s)),class:"bi bi-x-circle hover:text-red-500",alt:""})]),t("div",L,[(d(!0),f($,null,k(e.cartItems,s=>(d(),f("div",{key:s.productName,class:"flex gap-2"},[t("img",{src:s.mainImage,class:"h-[110px] w-[110px] p-1 rounded-xl m-1 object-contain bg-slate-100",alt:""},null,8,q),t("div",H,[t("div",P,[t("div",A,i(s.productName),1),t("div",G,"$"+i(s.price),1)]),t("div",J,[t("div",K,[t("i",{onClick:o=>e.increase(s),class:"bi bi-plus cursor-pointer rounded-full p-[2px] leading-[13px] text-center m-auto bg-purple-400 text-sm shadow-sm"},null,8,Q),t("div",R,i(s.numberOfItems),1),t("i",{onClick:o=>e.decrease(s),class:"bi bi-dash cursor-pointer rounded-full p-[2px] leading-[13px] text-center m-auto bg-purple-400 text-sm shadow-sm"},null,8,U)]),t("i",{onClick:o=>e.removeCartItem(s.productName),class:"bi bi-trash rounded-full p-1 text-red-400 leading-none bg-red-50"},null,8,W)])])]))),128))]),t("div",X,[t("div",Y,[Z,t("div",tt,"$"+i(e.subTotal),1)]),et])],512),[[y,e.showCart]])]),_:1})}const ot=h(z,[["render",st]]),nt={setup(){const a=()=>{n().$patch({showCart:!0})};return T({link:[{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"}]}),{openCart:a}},computed:{numberOfItems(){return n().$state.cart.reduce((l,e)=>l+=e.numberOfItems,0)}}},at={class:""},ct={class:"flex w-full justify-between items-center p-1 px-3 fixed top-0 left-0 z-[14] bg-gray-100"},rt=t("i",{class:"bi bi-cart-fill text-[27px] font-extrabold"},null,-1),lt={class:"text-[12px] leading-[0] font-semibold bg-purple-600 p-[7px] rounded-full absolute top-[12px] right-[-5px]"};function it(a,c,l,e,_,r){const s=j,o=V,u=ot;return d(),f("div",at,[t("div",ct,[x(s,{to:"/products",class:"text-lg text-slate-700 font-bold"},{default:b(()=>[N("iMarket")]),_:1}),t("div",{onClick:c[0]||(c[0]=(...m)=>e.openCart&&e.openCart(...m)),class:"relative"},[rt,t("div",lt,i(r.numberOfItems),1)])]),I(a.$slots,"default"),x(o),x(u)])}const mt=h(nt,[["render",it]]);export{mt as default};
