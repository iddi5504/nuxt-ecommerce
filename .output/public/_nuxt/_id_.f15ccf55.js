import{a as b,b as c,e as t,F as f,r as p,t as d,f as y,o as m,h as v,w,i as I}from"./entry.ade69ccc.js";import{u,g as h,c as g}from"./client.850c1bbb.js";import{p as k}from"./index.62578221.js";const x=k(),L={data(){return{contentData:"",mainImageUrl:"",otherImagesUrl:[],numberOfItems:0,item:{},tags:[],transition:!0,productsYouMayLike:[]}},methods:{selectImage(i,e){this.mainImageUrl=u(i).width(360).toString();const r=this.$refs.selectImagePreview;r.forEach(l=>{e==r.indexOf(l)?l.classList.add("selected"):l.classList.remove("selected")})},addToCart(){this.numberOfItems==0&&(this.numberOfItems=1);const{price:i,productName:e,mainImage:r}=this.contentData;x.addToCart({price:i,productName:e,mainImage:this.mainImageUrl,numberOfItems:this.numberOfItems}),x.showToast(`${this.numberOfItems} of ${e} has been added to the cart`),this.numberOfItems=0},increase(){this.numberOfItems++},decrease(){this.numberOfItems!=0&&this.numberOfItems--},startAnimation(i){this.transition=i}},async created(){const i=h`*[slug.current == $id]{
            price,
            productName,
            details,
            mainImage,
            otherImages,
            tag
        }`,e=await g.fetch(i,{id:this.$route.params.id});this.mainImageUrl=u(e[0].mainImage);let r=[];e[0].otherImages.forEach(n=>{r.push({url:u(n).width(90).toString(),ref:n.asset,key:n._key})}),r.unshift({url:u(e[0].mainImage),ref:e[0].mainImage,key:0}),this.otherImagesUrl=r,this.contentData=e[0],console.log(this.contentData);let l=e[0].tag[0];const a=h`*[_type == "product" && "${l}" in tag]{
          mainImage,
          productName,
          slug
        }`,o=await g.fetch(a);console.warn(o),o.forEach(n=>{this.productsYouMayLike.push({...n,imageUrl:u(n.mainImage).width(200).toString()})})},mounted(){const i=this.$refs.productsYouMayLike;console.log(window.innerWidth),window.innerWidth<700&&i.classList.add("animate"),!this.productsYouMayLike.length>8&&!window.innerWidth<700&&i.classList.remove("animate"),console.log(i)},watch:{transition:{handler(i){const e=this.$refs.productsYouMayLike;console.log(i),i?e.classList.remove("pause"):e.classList.add("pause")}}}},N={class:"flex flex-col justify-start items-center gap-3 mt-[35px]"},O={class:"flex flex-col lg:flex-row lg:items-center justify-center items-stretch gap-3 max-w-[960px] p-4"},j={class:"flex flex-col items-center"},M=["src"],U={class:"flex gap-1 items-center w-full justify-start"},C=["onClick","src"],D={class:"flex flex-1 flex-col gap-2 items-start justify-start py-4"},Y={class:"text-slate-800 font-bold text-2xl"},S=y('<div class="flex gap-1 justify-start"><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i></div>',1),T={class:"text-lg text-left"},A=t("h5",{class:"font-semibold"},"Details:",-1),B={class:"text-xl py-1 text-purple-600 font-bold"},E={class:"flex justify-start items-center gap-2"},P=t("div",null,"Quantity",-1),F={class:"flex justify-around items-center gap-1"},Q=t("i",{class:"bi bi-dash text-lg font-bold leading-none"},null,-1),V=[Q],W={class:"text-lg mx-2"},$=t("i",{class:"bi bi-plus text-lg font-bold leading-none"},null,-1),q=[$],H={class:"flex gap-2 w-full sm:max-w-max"},z=t("button",{class:"text-center p-2 px-3 rounded-md hover:bg-purple-700 bg-purple-400 border-2 text-sm text-slate-700"}," Buy now",-1),G={class:"text-center w-full max-w-[800px] my-4"},J=t("h3",{class:"font-bold text-xl p-2"},"Products you may like",-1),K={id:"container",class:"overflow-x-auto overflow-y-hidden"},R=["src"],X={class:"text-center text-sm font-semibold"};function Z(i,e,r,l,a,o){const n=I;return m(),c("div",N,[t("div",O,[t("div",j,[t("img",{src:a.mainImageUrl,class:"h-[300px] w-[300px] p-3 px-10 rounded-xl m-2 object-contain bg-slate-100",alt:""},null,8,M),t("div",U,[(m(!0),c(f,null,p(a.otherImagesUrl,(s,_)=>(m(),c("img",{ref_for:!0,ref:"selectImagePreview",onClick:tt=>o.selectImage(s.ref,_),key:s._key,src:s.url,class:"h-[70px] w-[70px] p-1 rounded-xl m-1 object-contain",alt:""},null,8,C))),128))])]),t("div",D,[t("h3",Y,d(a.contentData.productName),1),S,t("div",T,[A,t("p",null,d(a.contentData.details),1)]),t("div",B," $"+d(a.contentData.price),1),t("div",E,[P,t("div",F,[t("div",{onClick:e[0]||(e[0]=(...s)=>o.decrease&&o.decrease(...s)),class:"rounded-lg p-1 m-auto bg-purple-400 text-sm shadow-sm"},V),t("div",W,d(a.numberOfItems),1),t("div",{onClick:e[1]||(e[1]=(...s)=>o.increase&&o.increase(...s)),class:"rounded-lg p-1 m-auto bg-purple-400 text-sm shadow-sm"},q)])]),t("div",H,[t("button",{onClick:e[2]||(e[2]=(...s)=>o.addToCart&&o.addToCart(...s)),class:"text-center p-2 px-3 rounded-md hover:bg-gray-50 bg-white border-2 text-sm border-gray-300 text-purple-600"}," Add to cart"),z])])]),t("div",G,[J,t("div",K,[t("div",{onMouseenter:e[3]||(e[3]=s=>o.startAnimation(!1)),onMouseleave:e[4]||(e[4]=s=>o.startAnimation(!0)),ref:"productsYouMayLike",class:"flex justify-start px-2 items-center p-2"},[(m(!0),c(f,null,p(a.productsYouMayLike,s=>(m(),c("div",{key:s.productName,class:"flex flex-col item-center min-w-[135px] hover:scale-[1.1] transition-all"},[v(n,{to:`/products/${s.slug.current}`},{default:w(()=>[t("img",{src:s.imageUrl,class:"h-[130px] w-[130px] p-3 px-5 rounded-xl m-2 object-contain bg-slate-100"},null,8,R),t("div",X,d(s.productName),1)]),_:2},1032,["to"])]))),128))],544)])])])}const ot=b(L,[["render",Z]]);export{ot as default};
